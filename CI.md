# CI
Usually you will run Meteor Galaxy Auto Scaling (mgas) in a CI server to have it running all the
 time.

## How to set up your CI

### Jenkins

[JobDSL](https://jenkinsci.github.io/job-dsl-plugin/) plugin is a great way to configure Jenkins
 without using the UI, this way you will have code setting up Jenkins for you automatically.
 
 Follow one example of how to set up `mgas` with this plugin to run every two minutes to auto
 -scale two different apps.
```
def generatedBy = "Generated by groovy using JobDSL plugin at ${new Date()}"
job("meteor_galaxy_auto_scaling") {
    description generatedBy
    scm {
        git("git@github.com:org/repo.git", "master")
    }

    triggers {
        cron("*/2 * * * *")
    }

    wrappers {
        timeout {
            absolute(minutes = 10)
        }
    }

    label('meteor-galaxy-auto-scaling')

    steps {
        shell("""
            yarn global add @pathable/meteor-galaxy-auto-scaling
        """)

        shell("""
            `yarn global bin`/mgas --settings path/to/settings/in/your/workspace/app1.json
            `yarn global bin`/mgas --settings path/to/settings/in/your/workspace/app2.json
        """)
    }
    configure {
        it / 'publishers' / 'jenkins.plugins.slack.SlackNotifier'(plugin: "slack@2.3") {
            notifyFailure(true)
            notifyBackToNormal(true)
            notifyRepeatedFailure(true)
        }
    }
}
```

### Other CIs
If you are using other CI and you need help please open an issue or open a PR to include the
 instructions here on how to setup `mgas` in your CI.